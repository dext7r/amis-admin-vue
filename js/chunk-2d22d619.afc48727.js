(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d619"],{f6f9:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorControl=void 0;var a=o("9ab4"),n=(0,a.__importDefault)(o("ab5b")),l=o("8bc8"),r=o("d799"),i=o("c264"),s=(0,a.__importDefault)(o("35b7")),c=o("cbc0"),u=(0,a.__importDefault)(o("dbb0")),p=(0,a.__importDefault)(o("1f88")),d=o("d77e"),h=o("d369"),f=o("32e1"),b=function(e){function t(t){var o=e.call(this,t)||this;return o.state={isOpened:!1,isFocused:!1,inputValue:o.props.value||""},o.open=o.open.bind(o),o.close=o.close.bind(o),o.focus=o.focus.bind(o),o.blur=o.blur.bind(o),o.handleChange=o.handleChange.bind(o),o.handleFocus=o.handleFocus.bind(o),o.handleBlur=o.handleBlur.bind(o),o.clearValue=o.clearValue.bind(o),o.handleInputChange=o.handleInputChange.bind(o),o.handleClick=o.handleClick.bind(o),o.preview=n.default.createRef(),o.input=n.default.createRef(),o}return(0,a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.value!==t.value&&this.setState({inputValue:t.value||""})},t.prototype.handleFocus=function(){this.setState({isFocused:!0})},t.prototype.handleBlur=function(){this.setState({isFocused:!1,inputValue:this.props.value})},t.prototype.focus=function(){this.input.current&&this.input.current.focus()},t.prototype.blur=function(){this.input.current&&this.input.current.blur()},t.prototype.open=function(e){this.props.disabled||this.setState({isOpened:!0},e)},t.prototype.close=function(){this.setState({isOpened:!1})},t.prototype.clearValue=function(){var e=this.props,t=e.onChange,o=e.resetValue;t(o||"")},t.prototype.handleClick=function(){this.state.isOpened?this.close():this.open(this.focus)},t.prototype.handleInputChange=function(e){var t=this;if(this.props.allowCustomColor){var o=this.props.onChange;this.setState({inputValue:e.currentTarget.value},(function(){var e=t.validateColor(t.state.inputValue);e&&o(t.state.inputValue)}))}},t.prototype.validateColor=function(e){if(""===e)return!1;if("inherit"===e)return!1;if("transparent"===e)return!1;var t=document.createElement("img");return t.style.color="rgb(0, 0, 0)",t.style.color=e,"rgb(0, 0, 0)"!==t.style.color||(t.style.color="rgb(255, 255, 255)",t.style.color=e,"rgb(255, 255, 255)"!==t.style.color)},t.prototype.handleChange=function(e){var t=this.props,o=t.onChange,a=t.format;o("rgba"===a?"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"):"rgb"===a?"rgb(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,")"):"hsl"===a?"hsl(".concat(Math.round(e.hsl.h),", ").concat(Math.round(100*e.hsl.s),"%, ").concat(Math.round(100*e.hsl.l),"%)"):e.hex)},t.prototype.render=function(){var e=this,t=this.props,o=t.classPrefix,a=t.className,c=t.popoverClassName,d=t.value,f=t.placeholder,b=t.disabled,C=t.popOverContainer,m=t.format,g=t.clearable,v=t.placement,y=t.classnames,k=t.presetColors,_=t.allowCustomColor,P=t.useMobileUI,w=this.props.translate,E=this.state.isOpened,O=this.state.isFocused,N=P&&(0,h.isMobile)();return n.default.createElement("div",{className:y("ColorPicker",{"is-disabled":b,"is-focused":O,"is-opened":E},a)},n.default.createElement("span",{onClick:this.handleClick,className:y("ColorPicker-preview")},n.default.createElement("i",{ref:this.preview,className:"".concat(o,"ColorPicker-previewIcon"),style:{background:this.state.inputValue||"#ccc"}})),n.default.createElement("input",{ref:this.input,type:"text",autoComplete:"off",size:10,className:y("ColorPicker-input"),value:this.state.inputValue||"",placeholder:w(f),disabled:b,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,readOnly:N}),g&&!b&&d?n.default.createElement("a",{onClick:this.clearValue,className:y("ColorPicker-clear")},n.default.createElement(i.Icon,{icon:"input-clear",className:"icon"})):null,n.default.createElement("span",{className:y("ColorPicker-arrow")},n.default.createElement(i.Icon,{icon:"caret",className:"icon",onClick:this.handleClick})),!N&&E?n.default.createElement(s.default,{placement:v||"auto",target:function(){return(0,l.findDOMNode)(e)},onHide:this.close,container:C||function(){return(0,l.findDOMNode)(e)},rootClose:!1,show:!0},n.default.createElement(u.default,{classPrefix:o,className:y("ColorPicker-popover",c),onHide:this.close,overlay:!0},_?n.default.createElement(r.SketchPicker,{styles:{},disableAlpha:!!~["rgb","hex"].indexOf(m),color:d,presetColors:k,onChangeComplete:this.handleChange}):n.default.createElement(r.GithubPicker,{color:d,colors:Array.isArray(k)?k.filter((function(e){return"string"===typeof e||(0,h.isObject)(e)})).map((function(e){return"string"===typeof e?e:(0,h.isObject)(e)?null===e||void 0===e?void 0:e.color:e})):void 0,onChangeComplete:this.handleChange}))):null,N&&n.default.createElement(p.default,{className:y("".concat(o,"ColorPicker-popup")),container:C,isShow:E,onHide:this.handleClick},_?n.default.createElement(r.SketchPicker,{styles:{},disableAlpha:!!~["rgb","hex"].indexOf(m),color:d,presetColors:k,onChangeComplete:this.handleChange}):n.default.createElement(r.GithubPicker,{color:d,colors:Array.isArray(k)?k.filter((function(e){return"string"===typeof e||(0,h.isObject)(e)})).map((function(e){return"string"===typeof e?e:(0,h.isObject)(e)?null===e||void 0===e?void 0:e.color:e})):void 0,onChangeComplete:this.handleChange})))},t.defaultProps={format:"hex",clearable:!0,placeholder:"ColorPicker.placeholder",allowCustomColor:!0},(0,a.__decorate)([h.autobind,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"validateColor",null),t}(n.default.PureComponent);t.ColorControl=b,t.default=(0,d.themeable)((0,f.localeable)((0,c.uncontrollable)(b,{value:"onChange"})))}}]);
//# sourceMappingURL=chunk-2d22d619.afc48727.js.map